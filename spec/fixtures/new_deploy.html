
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <link rel="icon" href="/images/favicon.png" type="image/png" />
  <title>    New Deployment for Application railslove
</title>
  <link href="/stylesheets/layout.css?1292617034" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/facebox.css?1292617034" media="screen" rel="stylesheet" type="text/css" />
  <script src="/javascripts/jquery/jquery.min.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery-ui-1.7.2.custom.min.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.bgiframe.min.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/superfish/superfish.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/superfish/supersubs.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/application.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.tipTip-mod.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.easing.1.3.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.sparkline.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.color.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.flot_patch.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.flot.selection.min.js?1292617034" type="text/javascript"></script>
<script src="/javascripts/jquery/jquery.flot.stack.min.js?1292617034" type="text/javascript"></script>

  <script type="text/javascript">
    $(document).ready(function(){
      Scalarium.initMenus();

      $("ul.sf-menu .sf-right a").live("click", function(){
        $(this).parents("ul.sf-menu").hideSuperfishUl();
      });

    });

    var $scalarium = {
      instanceRefreshInterval: 10000,
      logLoadingTimeout: 15000,
      debug: false
    };
  </script>

    <script type="text/javascript">
      var host = document.location.host;
      if (host == 'manage.scalarium.com') {
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-6003901-5']);
        _gaq.push(['_setDomainName', host]);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      }
    </script>
</head>

<body>

  <div id="page">
    <div id="center">
      <a href="/" style="height:80px; width:120px; display:block; position:absolute; outline: none;" title="Home"></a>
      <div id="header">
        <ul class="horizontal-menu">
          <li>
              <a href="/users/7fe7e51f77da9bce74e9f5adaa9f21c0/login_settings">Settings</a>
          </li>
          <li><a href="#" id="feedback">Support</a></li>
          <li><a href="http://support.scalarium.com/faqs" target="_blank">FAQ</a></li>
          <li><a href="/logout">Logout (Red Davis)</a></li>
        </ul>
      </div>

      <div id="nav">
        <ul class="sf-menu">
            <li>
              <a href="/clouds" class="">Clouds</a>
                <ul>
                </ul>
            </li>
            <li>
              <a href="/applications" class="active">Applications</a>
                <ul>

                </ul>
            </li>
            <li><a href="/events" class="">Events</a></li>
            <li><a href="http://www.scalarium.com/blog" target="_blank">Blog</a></li>
        </ul>
          <span style="float: right">
            <a href="/"><img alt="Zeppelin" height="75" id="zeppelin" longdesc="/images/zeppelin.png" src="/images/zeppelin.png?1292617034" width="150" /></a>
          </span>
      </div>

      <div id="content">


        <div class="row">
  <div class="snd-nav">
      <h2 class="grey"><a href="/clouds/asd">Railslove</a>: </h2>
      <h2 class="grey"><a href="/applications/railslove">railslove</a>: </h2>
      <h2>New Deployment</h2>
  </div>
  <div class="column width_12 no-padding">



    <div class="flashnotice" style="display:none" id="notice_if_no_instances_selected">
      Please select at least one instance to deploy to.
    </div>
  </div>

<form action="/applications/railslove/deployments" class="new_deployment" id="new_deployment" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="KhQg/0sbvK2LsGV1cvIjeEOB+TxFsRGsIa6naLrJ5z8=" /></div>    <input id="deployment_instances_to_deploy_for_html" name="deployment[instances_to_deploy_for_html]" type="hidden" value="asd" />
    <input id="deployment_instances_to_skip_for_html" name="deployment[instances_to_skip_for_html]" type="hidden" value="" />
    <div class="column width_6">
      <div class="table2">
        <table>
          <colgroup>
            <col width="155"/>
            <col width="309"/>
          </colgroup>
          <thead>
            <tr>
              <th colspan="2">Options</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="border-bottom:#FFF;">
                <label for="deployment_command">Command</label>
              </td>
              <td style="border-bottom:#FFF;">
                <select id="deployment_command" name="deployment[command]"><option value="deploy">deploy</option>
<option value="rollback">rollback</option>
<option value="start">start</option>
<option value="stop">stop</option>
<option value="restart">restart</option>
<option value="undeploy">undeploy</option></select>
              </td>
            </tr>
            <tr>
              <td></td>
              <td id="deploy_command_helper" class="helper"></td>
            </tr>
            <tr>
              <td>
                <label for="deployment_comment">Comment</label>
              </td>
              <td>
                <textarea cols="40" id="deployment_comment" name="deployment[comment]" rows="5"></textarea>
              </td>
            </tr>
              <tr>
                <td>
                  <label for="deployment_migrate">Migrate Database</label>
                </td>
                <td>
                  <input name="deployment[migrate]" type="hidden" value="0" /><input id="deployment_migrate" name="deployment[migrate]" type="checkbox" value="1" />
                </td>
              </tr>
            <tr>
              <td>
                <label for="deployment_shift_between_restarts">Shift between restarts</label>
              </td>
              <td>
                <input class="align-right inline" id="deployment_shift_between_restarts" name="deployment[shift_between_restarts]" size="30" style="width: 24px;" type="text" value="0" /> seconds
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="column width_6">
        <div class="table2" id="choose_instances_to_deploy">
          <table>
            <colgroup>
              <col width="155"/>
              <col width="309"/>
            </colgroup>
            <thead>
              <tr>
                <th>Roles</th>
                <th>Instances</th>
              </tr>
            </thead>
            <tbody>
                <tr>

                        <span class="status_preview deploy_switch_instance green_status" data-instance-id="Railslove" title="webtwo - Large - online"></span>
                  </td>
                </tr>
              <tr>
                <td style="border-bottom: none;"></td>
                <td style="border-bottom: none;" class="helper">
                  You can exclude individual instances and entire roles from a deployment simply by (de-)selecting them.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
    <hr/>
    <input name="commit" type="submit" value="Run" />
          <input class="link_button greybutton" type="submit" value="Cancel" name="Cancel" data-target="/applications/railslove" />
      <noscript><a href="/applications/railslove">Cancel</a></noscript>

</form></div>


<script src="/javascripts/deployments.js?1292617034" type="text/javascript"></script>
<script type="text/javascript">
  $('.deploy_switch_instance').live('click', function(event) {
    event.preventDefault();
    var instanceId = $(this).attr("data-instance-id");
    ScalariumDeployment.switchInstances(instanceId);
    ScalariumDeployment.countInstances();
  });

  $('.deploy_switch_role').live('click', function(event) {
    event.preventDefault();
    var role = $(this);
    var roleInstances = $(role.next()).children('.deploy_switch_instance');
    var firstInstance = roleInstances[0]

    if ( firstInstance ){
      if ( ScalariumDeployment.switchedOn(firstInstance) ) {

        $.each(roleInstances, function(index, instance) {
          var instanceId = $(instance).attr("data-instance-id");
          ScalariumDeployment.switchOffInstance(instanceId);
        });

      } else {
        $.each(roleInstances, function(index, instance) {
          var instanceId = $(instance).attr("data-instance-id");
          ScalariumDeployment.switchOnInstance(instanceId);
        });
      }
    }

    ScalariumDeployment.countInstances();
  });

  $('#deployment_command').change(function() {
   update_deploy_command_helper();
  });

  function update_deploy_command_helper(){
    var command = $('#deployment_command').val();
    $('#deploy_command_helper').html(ScalariumDeployment.commandDescriptions[command])
  };
  update_deploy_command_helper();

</script>


      </div>
      <div id="push"></div>
    </div>
  </div>



  <div id="footer">
    <div>
      <ul class="horizontal-menu">
        <li style="margin-top:0px;"><a href="http://www.peritor.com"><img alt="Peritor Logo" height="40" longdesc="/images/logo-peritor.png" src="/images/logo-peritor.png?1292617034" width="115" /></a></li>
        <li><a href="http://www.scalarium.com/blog">Blog</a></li>
        <li><a href="http://support.scalarium.com">Support</a></li>
        <li><a href="http://www.peritor.com/de/contact/index.html">Contact</a></li>
        <li><a href="http://twitter.com/scalarium">Twitter</a></li>
        <li><a href="http://www.peritor.com/de/shared/legal.html">Imprint</a></li>
        <li><a href="http://www.peritor.com/de/shared/legal.html">Legal</a></li>
      </ul>
    </div>
  </div>

    <script type="text/javascript" charset="utf-8">
      Tender = {
        hideToggle: true,
        widgetToggles: $('#feedback')
      };
    </script>
    <script src="https://scalarium.tenderapp.com/tender_widget.js" type="text/javascript"></script>

</body>
</html>